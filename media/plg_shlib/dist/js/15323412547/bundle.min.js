/*! Copyright Weeblr llc 2018 - Licence: http://www.gnu.org/copyleft/gpl.html GNU/GPL */
var shlBootstrap=shlBootstrap||function(e){var t={updateBootstrap:function(){e("*[rel=tooltip]").tooltip(),e("select").chosen({disable_search_threshold:10,allow_single_deselect:!0}),e(".radio.btn-group label").addClass("btn"),e(".btn-group label:not(.active)").click(function(){var t=e(this),r=e("#"+t.attr("for"));r.prop("checked")||(t.closest(".btn-group").find("label").removeClass("active btn-success btn-danger btn-primary"),""==r.val()?t.addClass("active btn-primary"):0==r.val()?t.addClass("active btn-danger"):t.addClass("active btn-success"),r.prop("checked",!0))}),e(".btn-group input[checked=checked]").each(function(){""==e(this).val()?e("label[for="+e(this).attr("id")+"]").addClass("active btn-primary"):0==e(this).val()?e("label[for="+e(this).attr("id")+"]").addClass("active btn-danger"):e("label[for="+e(this).attr("id")+"]").addClass("active btn-success")})},canOpenModal:!0,modals:{},modalTemplate:"<div class='shmodal hide ' id='{%selector%}'><div class='shmodal-header'><button type='button' class='close' data-dismiss='modal'>Ã—</button>{%title%}</div><div id='{%selector%}-container'></div></div>",selectedIdsUrl:"",setSelectedIdsUrl:function(e){shlBootstrap.selectedIdsUrl=e},getModalUrl:function(e){return e+shlBootstrap.selectedIdsUrl},closeModal:function(){e("div.shmodal-header button.close").click()},setModalTitleFromModal:function(e){window.parent.jQuery("div.shmodal-header:visible").html("<h3>"+e+"</h3>")},registerModal:function(t){var r={};r=e.extend({selector:"",title:"",url:"",width:.5,height:.5,onclose:"",footer:"",content:"",onDisplay:"",backdrop:!0,keyboard:!1},t),shlBootstrap.modals[r.selector]=r},renderModal:function(t,r){var a=shlBootstrap.modalTemplate.replace(new RegExp("{%selector%}","g"),r.selector),o=r.title?"<h3>"+r.title+"</h3>":"&nbsp;";a=a.replace("{%title%}",o),e(a).appendTo("#shl-modals-container"),e("#"+r.selector).on("show",function(){if(!shlBootstrap.canOpenModal)return!1;var t,r=shlBootstrap.modals[this.id],a=r.width<1?e(window).width()*r.width:r.width,o=r.height<1?e(window).height()*r.height:r.height,n=shlBootstrap.getModalUrl(r.url),l=jQuery("#"+r.selector);t=r.content?r.content:'<iframe class="iframe" src="'+n+'" height="'+o+'" width="'+a+'" ></iframe>',jQuery("#"+r.selector+"-container").html('<div class="shmodal-body" style="height:'+o+"px; width:"+a+'px;">'+t+"</div>"+r.footer);var i=l.height(),s=l.width(),d=jQuery(window).height(),c=(jQuery(window).width()-s)/2,h=(d-i)/2;jQuery("#"+r.selector).css({"margin-top":h,top:"0"}),jQuery("#"+r.selector).css({"margin-left":c,left:"0"}),r.onDisplay&&"function"==typeof window[r.onDisplay]&&window[r.onDisplay](this)}),e("#"+r.selector).on("hide",function(){var e=shlBootstrap.modals[this.id];e.onclose&&e.onclose(),jQuery("#"+this.id+"-container").innerHTML=""}),e("#"+r.selector).modal({keyboard:r.keyboard,backdrop:r.backdrop,show:!1})},renderModals:function(){e.each(shlBootstrap.modals,shlBootstrap.renderModal)},inputCounters:{},registerInputCounter:function(t){var r={maxCharacterSize:-1,originalStyle:"badge-success",warningStyle:"badge-warning",errorStyle:"badge-important",warningNumber:20,errorNumber:40,displayFormat:"#left",style:"shl-char-counter",title:""};t=e.extend(r,t),shlBootstrap.inputCounters[t.selector]=t},renderInputCounters:function(){e.each(shlBootstrap.inputCounters,shlBootstrap.renderInputCounter)},renderInputCounter:function(t,r){e("#"+r.selector).textareaCount(r)},onReady:function(){e("<div id='shl-modals-container'></div>").appendTo("body"),shlBootstrap.renderModals(),shlBootstrap.renderInputCounters()}};return jQuery(document).ready(t.onReady),t}(jQuery);!function(e){e.fn.textareaCount=function(t,r){function a(){return p.html(o()),void 0!==r&&r.call(this,l()),!0}function o(){var e=u.val(),r=e.length;if(t.maxCharacterSize>0){r>=t.maxCharacterSize&&(e=e.substring(0,t.maxCharacterSize));var a=s(e),o=t.maxCharacterSize-a;if(i()||(o=t.maxCharacterSize),r>o){var l=this.scrollTop;u.val(e.substring(0,o)),this.scrollTop=l}p.removeClass(t.warningStyle),p.removeClass(t.originalStyle),r>t.errorNumber?p.addClass(t.errorStyle):r>t.warningNumber?p.addClass(t.warningStyle):p.addClass(t.originalStyle),f=u.val().length+a,i()||(f=u.val().length),g=c(d(u.val())),m=t.errorNumber-f}else{a=s(e);f=u.val().length+a,i()||(f=u.val().length),g=c(d(u.val()))}return n()}function n(){var e=t.displayFormat;return e=e.replace("#input",f),e=e.replace("#words",g),v>0&&(e=e.replace("#max",v),e=e.replace("#left",m)),e}function l(){return{input:f,max:v,left:m,words:g}}function i(){return-1!=navigator.appVersion.toLowerCase().indexOf("win")}function s(e){for(var t=0,r=0;r<e.length;r++)"\n"==e.charAt(r)&&t++;return t}function d(e){var t=/^[^A-Za-z0-9]+/gi,r=(e+" ").replace(t,""),a=rExp=/[^A-Za-z0-9]+/gi;return r.replace(a," ").split(" ")}function c(e){return e.length-1}var h={maxCharacterSize:-1,originalStyle:"originalTextareaInfo",warningStyle:"warningTextareaInfo",errorStyle:"errorTextareaInfo",warningNumber:20,errorNumber:40,displayFormat:"#input characters | #words words",title:""},t=e.extend(h,t),u=e(this);u.wrap("<div class='shl-char-counter-wrapper'></div>"),e("<div class='charleft badge "+t.style+"' "+(t.title?"title='"+t.title+"'":"")+">&nbsp;</div>").insertAfter(u);var p=function(e){return e.next(".charleft")}(u);p.addClass(t.originalStyle);var f=0,v=t.maxCharacterSize,m=0,g=0;u.bind("keyup",function(e){a()}).bind("mouseover",function(e){setTimeout(function(){a()},10)}).bind("paste",function(e){setTimeout(function(){a()},10)}),a()}}(jQuery);
/*! Copyright Weeblr llc 2018 - Licence: http://www.gnu.org/copyleft/gpl.html GNU/GPL */
!function(e,o,n,s){"use strict;";function t(e){var o=s("#"+e),n=s(o.parent());o.slideUp(200,function(){o.remove(),n.children().length||n.parent().hide()})}function i(e){e.removeClass("wbl-spin").text("Error").addClass("wb-clr-alert")}function r(e){var o=e.data("element-id"),n=e.data("token"),r={uid:o};r[n]=1;s.post("index.php?option=com_ajax&plugin=shlib&method=removeMsg&format=json",r).done(function(n,s,r){try{"object"!=typeof n&&(n=JSON.parse(n)),"object"==typeof n?n.success?t(o):(console.log("ShLib: Ajax error: "+n.message),i(e)):console.log("wbLib: ajax error: no object in return")}catch(e){console.log("wbLib: ajax error decoding request response: "+e.message),console.debug(n),console.debug(e)}}).fail(function(o,n,s){console.log("wbLib: ajax error: "+n),console.debug(s),i(e)})}function l(e,o){var n=s(this).attr("id"),t=s("#wbl-msg-body-"+n);0==t.is(":visible")?(t.addClass("wbl-body-visible"),t.slideDown(300)):(t.slideUp(300),t.removeClass("wbl-body-visible"))}function c(e,o){var n=s(this);return n.html("x").addClass("wbl-spin"),r(n),!1}function a(){s(".wbl-msg-button-close").click(c),s(".wbl-container-msg-one-toggle").click(l)}s(n).ready(function(){try{a()}catch(e){console.log("Error setting up message center: "+e.message)}}),e.shlib=e.shlib||{},e.shlib.msgCenter={refreshActions:function(){a()}}}(window.weeblrApp=window.weeblrApp||{},window,document,jQuery);
/*! Copyright Weeblr llc 2018 - Licence: http://www.gnu.org/copyleft/gpl.html GNU/GPL */
!function(n,e,s,t){"use strict;";var r={};n.spinner=n.spinner||{},n.spinner.start=function(n,e){try{var s="#"+(n||"wbl-spinner");if(r[s]&&r[s].count>0)r[s].count+=1;else if(r[s]&&r[s].count<=0)r[s].element.fadeIn();else{var o=t(s);o.length?(o.addClass("wbl-spinner-css"),e&&e.class&&o.addClass(e.class),r[s]={element:o,count:1},r[s].element.fadeIn()):console.log("Shlib: requested to start a spinner for "+s+" but element not found")}}catch(n){console.log("wbLib: error starting svg spinner: "+n.message)}},n.spinner.stop=function(n,e){try{var s="#"+(n||"wbl-spinner");if(!r[s])return;e?r[s].count=0:r[s].count-=1,r[s]&&r[s].count<=0&&(r[s].count=0,r[s].element.fadeOut())}catch(n){console.log("wbLib: error stopping svg spinner: "+n.message)}}}(window.weeblrApp=window.weeblrApp||{},window,document,jQuery);
/*! Copyright Weeblr llc 2018 - Licence: http://www.gnu.org/copyleft/gpl.html GNU/GPL */
!function(t,i,e,p){"use strict;";function s(i,e){var s=p(e),n="#"+e.id+"-lbl",r=p(n);switch(a){case"popover":(w=r.data("content"))&&(r.off("mouseenter mouseleave"),o(s,w));break;case"tips":var w=r.attr("title");w||(w=r.data("original-title")),w&&(r.removeClass("hasTooltip").attr("title",""),o(s,w));break;default:console.log("wblib: invalid tips mode "+t.tips.tipsMode)}}function o(t,i){var e=p('<span class="wbtip-wrapper"><span type="button" class="wbtip-content">'+n(i)+"</span></span>"),s=t.parent();e.appendTo(s)}function n(t){var i=t.indexOf("<br />");return-1!=i&&(t=t.substr(i+6)),t}function r(t){"show"==t?(p(".wbtip-wrapper").show(),p(".wbtip-switch.wbtip-show").hide(),p(".wbtip-switch.wbtip-hide").show()):(p(".wbtip-wrapper").hide(),p(".wbtip-switch.wbtip-show").show(),p(".wbtip-switch.wbtip-hide").hide())}var w=".wbTip",a="popover";t.tips=t.tips||{},t.tips.setAutoSetupSelector=function(i){return w=i,t.tips},t.tips.setupTips=function(i){i=i||w;try{p(i).each(s)}catch(t){console.log("wbLib: error setting up help tips: "+t.message)}return t.tips},t.tips.setupTip=s,t.tips.hideTips=r,t.tips.showTips=r,t.tips.setTipsMode=function(i){return a=i,t.tips}}(window.weeblrApp=window.weeblrApp||{},window,document,jQuery);
